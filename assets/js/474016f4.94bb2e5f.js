"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7759],{4486:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>a,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var n=r(3159),t=r(8740);const i={title:"Verse"},l="Class: Verse<TEntities>",c={id:"api/verse/classes/Verse",title:"Verse",description:"The top-level Verse object.",source:"@site/docs/api/verse/classes/Verse.md",sourceDirName:"api/verse/classes",slug:"/api/verse/classes/Verse",permalink:"/docs/api/verse/classes/Verse",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Verse"},sidebar:"apiSidebar",previous:{title:"DbOperations",permalink:"/docs/api/verse/classes/DbOperations"},next:{title:"AsyncFrom",permalink:"/docs/api/verse/type-aliases/AsyncFrom"}},d={},o=[{value:"Type parameters",id:"type-parameters",level:2},{value:"Constructors",id:"constructors",level:2},{value:"new Verse(config, builder)",id:"new-verseconfig-builder",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Source",id:"source",level:4},{value:"Properties",id:"properties",level:2},{value:"config",id:"config",level:3},{value:"Source",id:"source-1",level:4},{value:"database",id:"database",level:3},{value:"Source",id:"source-2",level:4},{value:"entities",id:"entities",level:3},{value:"Source",id:"source-3",level:4},{value:"from",id:"from",level:3},{value:"Source",id:"source-4",level:4},{value:"metadata",id:"metadata",level:3},{value:"Source",id:"source-5",level:4},{value:"Methods",id:"methods",level:2},{value:"compile()",id:"compile",level:3},{value:"Type parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Parameters",id:"parameters-2",level:5},{value:"Returns",id:"returns-2",level:5},{value:"Example",id:"example",level:4},{value:"Source",id:"source-6",level:4},{value:"compileUow()",id:"compileuow",level:3},{value:"Type parameters",id:"type-parameters-2",level:4},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Parameters",id:"parameters-4",level:5},{value:"Returns",id:"returns-4",level:5},{value:"Example",id:"example-1",level:4},{value:"Source",id:"source-7",level:4},{value:"uow()",id:"uow",level:3},{value:"Returns",id:"returns-5",level:4},{value:"Example",id:"example-2",level:4},{value:"Source",id:"source-8",level:4}];function h(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"class-versetentities",children:"Class: Verse<TEntities>"}),"\n",(0,n.jsx)(s.p,{children:"The top-level Verse object."}),"\n",(0,n.jsxs)(s.p,{children:["See ",(0,n.jsx)(s.a,{href:"/docs/api/verse/functions/verse",children:"verse"})," for detailed usage information."]}),"\n",(0,n.jsx)(s.h2,{id:"type-parameters",children:"Type parameters"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Type parameter"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Value"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,n.jsx)(s.code,{children:"TEntities"})," extends ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/Entities",children:(0,n.jsx)(s.code,{children:"Entities"})})]}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"any"})})]})})]}),"\n",(0,n.jsx)(s.h2,{id:"constructors",children:"Constructors"}),"\n",(0,n.jsx)(s.h3,{id:"new-verseconfig-builder",children:"new Verse(config, builder)"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"new Verse"}),"<",(0,n.jsx)(s.code,{children:"TEntities"}),">(",(0,n.jsx)(s.code,{children:"config"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/Config",children:(0,n.jsx)(s.code,{children:"Config"})}),", ",(0,n.jsx)(s.code,{children:"builder"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/ModelBuilder",children:(0,n.jsx)(s.code,{children:"ModelBuilder"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >): ",(0,n.jsx)(s.a,{href:"/docs/api/verse/classes/Verse",children:(0,n.jsx)(s.code,{children:"Verse"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Creates a new instance."}),"\n",(0,n.jsx)(s.h4,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"config"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/Config",children:(0,n.jsx)(s.code,{children:"Config"})})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"The configuration object."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"builder"})}),(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/ModelBuilder",children:(0,n.jsx)(s.code,{children:"ModelBuilder"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >"]}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"The model builder object."})]})]})]}),"\n",(0,n.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/docs/api/verse/classes/Verse",children:(0,n.jsx)(s.code,{children:"Verse"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >"]}),"\n",(0,n.jsx)(s.h4,{id:"source",children:"Source"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/operativa-dev/verse/blob/24c5fc71/packages/verse-core/src/verse.ts#L302",children:"packages/verse-core/src/verse.ts:302"})}),"\n",(0,n.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(s.h3,{id:"config",children:"config"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"readonly"})})," ",(0,n.jsx)(s.strong,{children:"config"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/Config",children:(0,n.jsx)(s.code,{children:"Config"})})]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"The configuration object."}),"\n",(0,n.jsx)(s.h4,{id:"source-1",children:"Source"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/operativa-dev/verse/blob/24c5fc71/packages/verse-core/src/verse.ts#L303",children:"packages/verse-core/src/verse.ts:303"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"database",children:"database"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"readonly"})})," ",(0,n.jsx)(s.strong,{children:"database"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/classes/DbOperations",children:(0,n.jsx)(s.code,{children:"DbOperations"})})]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Provides methods to perform various operations on the database."}),"\n",(0,n.jsx)(s.h4,{id:"source-2",children:"Source"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/operativa-dev/verse/blob/24c5fc71/packages/verse-core/src/verse.ts#L273",children:"packages/verse-core/src/verse.ts:273"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"entities",children:"entities"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"readonly"})})," ",(0,n.jsx)(s.strong,{children:"entities"}),": ",(0,n.jsx)(s.code,{children:"TEntities"})]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["The labelled entity models. Enables easy use of ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/EntityType",children:"EntityType"})," with ",(0,n.jsx)(s.code,{children:"typeof"}),"\nfrom the root verse instance."]}),"\n",(0,n.jsx)(s.h4,{id:"source-3",children:"Source"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/operativa-dev/verse/blob/24c5fc71/packages/verse-core/src/verse.ts#L294",children:"packages/verse-core/src/verse.ts:294"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"from",children:"from"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"readonly"})})," ",(0,n.jsx)(s.strong,{children:"from"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/AsyncFrom",children:(0,n.jsx)(s.code,{children:"AsyncFrom"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Provides access to strongly-typed entity query operations."}),"\n",(0,n.jsx)(s.h4,{id:"source-4",children:"Source"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/operativa-dev/verse/blob/24c5fc71/packages/verse-core/src/verse.ts#L278",children:"packages/verse-core/src/verse.ts:278"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"metadata",children:"metadata"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"readonly"})})," ",(0,n.jsx)(s.strong,{children:"metadata"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/Metadata",children:(0,n.jsx)(s.code,{children:"Metadata"})})]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"The metadata object containing the configuration, model, and inheritance strategy."}),"\n",(0,n.jsx)(s.h4,{id:"source-5",children:"Source"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/operativa-dev/verse/blob/24c5fc71/packages/verse-core/src/verse.ts#L283",children:"packages/verse-core/src/verse.ts:283"})}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"compile",children:"compile()"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"compile"}),"<",(0,n.jsx)(s.code,{children:"R"}),", ",(0,n.jsx)(s.code,{children:"A"}),">(",(0,n.jsx)(s.code,{children:"query"}),":     (",(0,n.jsx)(s.code,{children:"from"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/From",children:(0,n.jsx)(s.code,{children:"From"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >, ...",(0,n.jsx)(s.code,{children:"args"}),": ",(0,n.jsx)(s.code,{children:"A"}),") => ",(0,n.jsx)(s.code,{children:"R"}),"): (...",(0,n.jsx)(s.code,{children:"args"}),": ",(0,n.jsx)(s.code,{children:"A"}),") => ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/QueryResult",children:(0,n.jsx)(s.code,{children:"QueryResult"})}),"< ",(0,n.jsx)(s.code,{children:"R"})," >"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Compiles a query and returns a function that can be invoked to execute the query."}),"\n",(0,n.jsx)(s.p,{children:"Compiled queries are useful when you need to execute the same query multiple times with different\nparameters, or when you want to cache the query for reuse. Compiled query execution is faster than\nnon-compiled query execution because the query is only compiled once."}),"\n",(0,n.jsx)(s.h4,{id:"type-parameters-1",children:"Type parameters"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsx)(s.tr,{children:(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Type parameter"})})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsx)(s.tr,{children:(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"R"})})}),(0,n.jsx)(s.tr,{children:(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,n.jsx)(s.code,{children:"A"})," extends readonly ",(0,n.jsx)(s.code,{children:"unknown"}),"[]"]})})]})]}),"\n",(0,n.jsx)(s.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"query"})}),(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:["(",(0,n.jsx)(s.code,{children:"from"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/From",children:(0,n.jsx)(s.code,{children:"From"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >, ...",(0,n.jsx)(s.code,{children:"args"}),": ",(0,n.jsx)(s.code,{children:"A"}),") => ",(0,n.jsx)(s.code,{children:"R"})]}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"The query function to compile."})]})})]}),"\n",(0,n.jsx)(s.h4,{id:"returns-1",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"Function"})}),"\n",(0,n.jsx)(s.p,{children:"The compiled query function that can be invoked with the specified arguments."}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsx)(s.h5,{id:"parameters-2",children:"Parameters"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Type"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:["...",(0,n.jsx)(s.code,{children:"args"})]}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"A"})})]})})]}),"\n",(0,n.jsx)(s.h5,{id:"returns-2",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/QueryResult",children:(0,n.jsx)(s.code,{children:"QueryResult"})}),"< ",(0,n.jsx)(s.code,{children:"R"})," >"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"example",children:"Example"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",metastring:"showLineNumbers",children:"const query = db.compile(\n  (from, $id: number) => from.albums.where(a => a.albumId === $id).single());\n\nconst album = query(42);\n"})}),"\n",(0,n.jsx)(s.h4,{id:"source-6",children:"Source"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/operativa-dev/verse/blob/24c5fc71/packages/verse-core/src/verse.ts#L402",children:"packages/verse-core/src/verse.ts:402"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"compileuow",children:"compileUow()"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"compileUow"}),"<",(0,n.jsx)(s.code,{children:"R"}),", ",(0,n.jsx)(s.code,{children:"A"}),">(",(0,n.jsx)(s.code,{children:"query"}),":     (",(0,n.jsx)(s.code,{children:"from"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/From",children:(0,n.jsx)(s.code,{children:"From"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >, ...",(0,n.jsx)(s.code,{children:"args"}),": ",(0,n.jsx)(s.code,{children:"A"}),") => ",(0,n.jsx)(s.code,{children:"R"}),"): (",(0,n.jsx)(s.code,{children:"uow"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/UnitOfWork",children:(0,n.jsx)(s.code,{children:"UnitOfWork"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >, ...",(0,n.jsx)(s.code,{children:"args"}),": ",(0,n.jsx)(s.code,{children:"A"}),") => ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/QueryResult",children:(0,n.jsx)(s.code,{children:"QueryResult"})}),"< ",(0,n.jsx)(s.code,{children:"R"})," >"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Compiles a query and returns a function that can be invoked to execute the query within a unit of work.\nEntity changes made within the unit of work will be tracked and persisted to the database when the\nunit of work is committed."}),"\n",(0,n.jsx)(s.p,{children:"Compiled queries are useful when you need to execute the same query multiple times with different\nparameters, or when you want to cache the query for reuse. Compiled query execution is faster than\nnon-compiled query execution because the query is only compiled once."}),"\n",(0,n.jsx)(s.h4,{id:"type-parameters-2",children:"Type parameters"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsx)(s.tr,{children:(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Type parameter"})})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsx)(s.tr,{children:(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"R"})})}),(0,n.jsx)(s.tr,{children:(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,n.jsx)(s.code,{children:"A"})," extends readonly ",(0,n.jsx)(s.code,{children:"unknown"}),"[]"]})})]})]}),"\n",(0,n.jsx)(s.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"query"})}),(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:["(",(0,n.jsx)(s.code,{children:"from"}),": ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/From",children:(0,n.jsx)(s.code,{children:"From"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >, ...",(0,n.jsx)(s.code,{children:"args"}),": ",(0,n.jsx)(s.code,{children:"A"}),") => ",(0,n.jsx)(s.code,{children:"R"})]}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"The query function to compile."})]})})]}),"\n",(0,n.jsx)(s.h4,{id:"returns-3",children:"Returns"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.code,{children:"Function"})}),"\n",(0,n.jsx)(s.p,{children:"The compiled query function that can be invoked with the specified arguments."}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsx)(s.h5,{id:"parameters-4",children:"Parameters"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Type"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"uow"})}),(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/UnitOfWork",children:(0,n.jsx)(s.code,{children:"UnitOfWork"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{style:{textAlign:"left"},children:["...",(0,n.jsx)(s.code,{children:"args"})]}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"A"})})]})]})]}),"\n",(0,n.jsx)(s.h5,{id:"returns-4",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/QueryResult",children:(0,n.jsx)(s.code,{children:"QueryResult"})}),"< ",(0,n.jsx)(s.code,{children:"R"})," >"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"example-1",children:"Example"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",metastring:"showLineNumbers",children:"const query = db.compileUow(\n  (from, $id: number) => from.albums.where(a => a.albumId === $id).single());\n\nconst uow = db.uow();\nconst album = query(uow, 42);\n"})}),"\n",(0,n.jsx)(s.h4,{id:"source-7",children:"Source"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/operativa-dev/verse/blob/24c5fc71/packages/verse-core/src/verse.ts#L431",children:"packages/verse-core/src/verse.ts:431"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"uow",children:"uow()"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"uow"}),"(): ",(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/UnitOfWork",children:(0,n.jsx)(s.code,{children:"UnitOfWork"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Creates a new unit of work, an object that tracks changes to entities and\ncan be used to persist them to the database."}),"\n",(0,n.jsx)(s.h4,{id:"returns-5",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/docs/api/verse/type-aliases/UnitOfWork",children:(0,n.jsx)(s.code,{children:"UnitOfWork"})}),"< ",(0,n.jsx)(s.code,{children:"TEntities"})," >"]}),"\n",(0,n.jsx)(s.p,{children:"A new unit of work."}),"\n",(0,n.jsx)(s.h4,{id:"example-2",children:"Example"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",metastring:"showLineNumbers",children:'const uow = db.uow();\nconst customer =\n  await uow.customers\n    .where(c => c.name === "Customer 1")\n    .single();\n\ncustomer.name = "Customer 1 Updated!";\n\nawait uow.commit();\n'})}),"\n",(0,n.jsx)(s.h4,{id:"source-8",children:"Source"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/operativa-dev/verse/blob/24c5fc71/packages/verse-core/src/verse.ts#L459",children:"packages/verse-core/src/verse.ts:459"})})]})}function a(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8740:(e,s,r)=>{r.d(s,{R:()=>l,x:()=>c});var n=r(1855);const t={},i=n.createContext(t);function l(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);